import{H as y,d as $,u as b,r as d,B as q,c as T,a as n,b as a,n as o,t as m,w as p,D as V,o as C,e as k,f as B,g as D,_ as A}from"./index.ee12a00d.js";import{F,C as N,a as S}from"./index.1d2591d1.js";const U=new y;function H(c){return U.post("privilege/login",c)}const L=$({__name:"login",setup(c){const _=B(),l=b(),r=d(!1),t=d({account:"",password:""});async function g(e){r.value=!0;const s=await H(e);r.value=!1,s.success?(l.setUserInfo(s.data.info),l.setAuth(!0),l.setToken(s.data.accessToken,s.data.expire),_.replace("/")):V({message:s.msg})}return(e,s)=>{const f=D("XLocale"),i=F,v=N,h=q,w=S;return C(),T("div",{class:o(e.$style.page)},[n("div",{class:o(e.$style.top)},[a(f,{primary:""})],2),n("div",{class:o(e.$style.container)},[n("div",{class:o(e.$style.loginText)},m(e.$translate("login")),3),a(w,{class:o(e.$style.form),onSubmit:g},{default:p(()=>[a(v,null,{default:p(()=>[a(i,{label:e.$translate("account"),placeholder:e.$translate("please.input.account"),modelValue:t.value.account,"onUpdate:modelValue":s[0]||(s[0]=u=>t.value.account=u),name:"account",rules:[{required:!0,message:e.$translate("please.input.account")}]},null,8,["label","placeholder","modelValue","rules"]),a(i,{label:e.$translate("password"),type:"password",placeholder:e.$translate("please.input.password"),modelValue:t.value.password,"onUpdate:modelValue":s[1]||(s[1]=u=>t.value.password=u),name:"password",rules:[{required:!0,message:e.$translate("please.input.password")}]},null,8,["label","placeholder","modelValue","rules"])]),_:1}),n("div",{class:o(e.$style.button)},[a(h,{block:"",type:"primary","native-type":"submit",loading:r.value},{default:p(()=>[k(m(e.$translate("login")),1)]),_:1},8,["loading"])],2)]),_:1},8,["class"])],2)],2)}}}),M="_top_1sqh1_1",X="_page_1sqh1_7",z="_loginText_1sqh1_13",E="_container_1sqh1_18",G="_form_1sqh1_22",I="_button_1sqh1_26",R="_errorTips_1sqh1_30",j="_show_1sqh1_34",J={top:M,page:X,loginText:z,container:E,form:G,button:I,errorTips:R,show:j},K={$style:J},Q=A(L,[["__cssModules",K]]);export{Q as default};
